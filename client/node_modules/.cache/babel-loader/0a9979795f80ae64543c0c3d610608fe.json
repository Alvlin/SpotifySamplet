{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alvin\\\\Desktop\\\\Spotify\\\\SampleSpotify\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport TracksContainer from './components/TracksContainer';\nimport ReactDOM from 'react-dom';\nimport TrackCard from './components/TrackCard';\nimport AlbumCard from './components/AlbumCard';\nimport ArtistCard from './components/ArtistCard';\nconst lookup = {\n  \"album\": [{\n    id: '1',\n    text: 'Sort Alphabetically'\n  }, {\n    id: '2',\n    text: 'Sort by Release Date'\n  }, {\n    id: '3',\n    text: 'Sort by Tracks'\n  }],\n  \"track\": [{\n    id: '1',\n    text: 'Sort Alphabetically'\n  }, {\n    id: '2',\n    text: 'Sort by Popularity'\n  }, {\n    id: '3',\n    text: 'Sort by Release Date'\n  }, {\n    id: '4',\n    text: 'Sort by Song Length(Short to Long)'\n  }],\n  \"artist\": [{\n    id: '1',\n    text: 'Sort Alphabetically'\n  }, {\n    id: '2',\n    text: 'Sort by Popularity'\n  }, {\n    id: '3',\n    text: 'Sort by Followers'\n  }]\n};\nvar apiTok;\n\nclass App extends Component {\n  callAPI() {\n    fetch(\"http://localhost:9000/getToken\").then(res => res.text()).then(res => {\n      this.state.svrResponse = res;\n    });\n    apiTok = this.state.svrResponse; // .then(res => this.setState({ svrResponse: res }));\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.changeType = ({\n      target: {\n        value\n      }\n    }) => {\n      this.setState({\n        searchType: value\n      });\n      this.setState({\n        sortType: 'Sort Alphabetically'\n      });\n    };\n\n    this.changeSortType = e => {\n      this.setState({\n        sortType: e.target.value\n      });\n    };\n\n    this.handleClick = event => {\n      event.preventDefault();\n      this.callAPI();\n      console.log(this.state.svrResponse);\n      const baseUrl = 'https://api.spotify.com/v1/search?';\n      const auth_token = 'Bearer ' + this.state.svrResponse;\n      let fetchUrl;\n      let cards;\n      let sortType = this.state.sortType;\n      let searching = this.state.searchType;\n\n      if (this.state.search) {\n        fetchUrl = baseUrl + \"query=\" + this.state.search + '&type=' + this.state.searchType + '&offset=0&limit=24';\n        fetch(fetchUrl, {\n          method: \"GET\",\n          headers: {\n            'Content-type': 'application/json',\n            'Authorization': auth_token\n          }\n        }).then(resp => resp.json()).then(function (data) {\n          console.log(data);\n          console.log(sortType);\n\n          switch (searching) {\n            case 'album':\n              const j = data.albums.items;\n\n              if (sortType === 'Sort by Release Date') {\n                j.sort((a, b) => new Date(b.release_date).getTime() - new Date(a.release_date).getTime());\n              } else if (sortType === 'Sort Alphabetically') {\n                j.sort((a, b) => a.name.localeCompare(b.name));\n              } else if (sortType === 'Sort by Tracks') {\n                j.sort((a, b) => b.total_tracks - a.total_tracks);\n              } else if (sortType === 'Sort by Song Length(Short to Long)') j.sort((a, b) => a.duration_ms - b.duration_ms);\n\n              cards = data.albums.items.map(val => /*#__PURE__*/React.createElement(AlbumCard, {\n                key: val.id,\n                data: val,\n                img: val,\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 52\n                }\n              }));\n              ReactDOM.render(cards, document.getElementById('container'));\n              break;\n\n            case 'artist':\n              const i = data.artists.items;\n              console.log(sortType);\n\n              if (sortType === 'Sort by Followers') {\n                i.sort((a, b) => b.followers.total - a.followers.total);\n              } else if (sortType === 'Sort Alphabetically') {\n                i.sort((a, b) => a.name.localeCompare(b.name));\n              } else if (sortType === 'Sort by Popularity') {\n                i.sort((a, b) => b.popularity - a.popularity);\n              }\n\n              cards = data.artists.items.map(val => /*#__PURE__*/React.createElement(ArtistCard, {\n                key: val.id,\n                data: val,\n                img: val,\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 53\n                }\n              }));\n              ReactDOM.render(cards, document.getElementById('container'));\n              break;\n\n            case 'track':\n              let y = data.tracks.items; // let x = this.sortCards()\n\n              if (sortType === 'Sort by Release Date') {\n                y.sort((a, b) => new Date(b.album.release_date).getTime() - new Date(a.album.release_date).getTime());\n              } else if (sortType === 'Sort Alphabetically') {\n                y.sort((a, b) => a.name.localeCompare(b.name));\n              } else if (sortType === 'Sort by Popularity') {\n                y.sort((a, b) => b.popularity - a.popularity);\n              } else if (sortType === 'Sort by Song Length(Short to Long)') y.sort((a, b) => a.duration_ms - b.duration_ms);\n\n              cards = y.map(val => val.preview_url ? /*#__PURE__*/React.createElement(TrackCard, {\n                key: val.id,\n                data: val,\n                img: val.album,\n                __self: this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 57\n                }\n              }) : null);\n              ReactDOM.render(cards, document.getElementById('container'));\n              break;\n\n            case \"album,artist,track\":\n              break;\n          }\n        });\n      }\n    };\n\n    this.state = {\n      tracks: [],\n      search: '',\n      artist: null,\n      searchType: 'track',\n      sortType: 'Sort Alphabetically',\n      cardlings: null\n    };\n    this.callAPI();\n  }\n\n  sortCards(value, items) {\n    console.log('items', items);\n    console.log('value', value);\n\n    if (value === 'Sort by Release Date') {\n      items.sort((a, b) => a.album.release_date - b.album.release_date);\n    } else if (value === 'Sort Alphabetically') {\n      items.sort((a, b) => a.name.localeCompare(b.name));\n    } else if (value === 'Sort by Popularity') {\n      items.sort((a, b) => a.popularity - b.popularity);\n    } else if (value === 'Sort by Song Length(Short to Long)') items.sort((a, b) => a.duration_ms - b.duration_ms);\n  }\n\n  render() {\n    const options = lookup[this.state.searchType];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: event => {\n        this.setState({\n          search: event.target.value\n        });\n      },\n      value: this.state.search,\n      type: \"text\",\n      placeholder: \"Search...\",\n      name: \"search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 62\n      }\n    }), \"Search\")), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }, \"Choose a Genre:\"), /*#__PURE__*/React.createElement(\"select\", {\n      defaultValue: this.state.searchType,\n      onChange: this.changeType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"album\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }\n    }, \"Album\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"artist\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, \"Artist\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"track\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, \"Track\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"album,artist,track\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, \"All\")), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"tracks\",\n      defaultValue: this.state.sortType,\n      onChange: this.changeSortType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }\n    }, options.map(o => /*#__PURE__*/React.createElement(\"option\", {\n      key: o.id,\n      value: o.text,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 29\n      }\n    }, o.text))), /*#__PURE__*/React.createElement(TracksContainer, {\n      tracks: this.state,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nexport default App;\nexport { apiTok };","map":{"version":3,"sources":["C:/Users/Alvin/Desktop/Spotify/SampleSpotify/client/src/App.js"],"names":["React","Component","TracksContainer","ReactDOM","TrackCard","AlbumCard","ArtistCard","lookup","id","text","apiTok","App","callAPI","fetch","then","res","state","svrResponse","constructor","props","changeType","target","value","setState","searchType","sortType","changeSortType","e","handleClick","event","preventDefault","console","log","baseUrl","auth_token","fetchUrl","cards","searching","search","method","headers","resp","json","data","j","albums","items","sort","a","b","Date","release_date","getTime","name","localeCompare","total_tracks","duration_ms","map","val","render","document","getElementById","i","artists","followers","total","popularity","y","tracks","album","preview_url","artist","cardlings","sortCards","options","o"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport TracksContainer from './components/TracksContainer'\nimport ReactDOM from 'react-dom'\nimport TrackCard from './components/TrackCard'\nimport AlbumCard from './components/AlbumCard'\nimport ArtistCard from './components/ArtistCard'\n\n\nconst lookup = {\n  \"album\": [\n    { id: '1', text: 'Sort Alphabetically' },\n    { id: '2', text: 'Sort by Release Date' },\n    { id: '3', text: 'Sort by Tracks' },\n  ],\n  \"track\": [\n    { id: '1', text: 'Sort Alphabetically' },\n    { id: '2', text: 'Sort by Popularity'},\n    { id: '3', text: 'Sort by Release Date' },\n    { id: '4', text: 'Sort by Song Length(Short to Long)' },\n  ],\n  \"artist\": [\n    {id: '1', text: 'Sort Alphabetically'},\n    {id: '2', text: 'Sort by Popularity'},\n    {id: '3', text: 'Sort by Followers'},\n  ]\n}\n\nvar apiTok;\n\nclass App extends Component {\n  callAPI() {\n    fetch(\"http://localhost:9000/getToken\")\n        .then(res => res.text())\n        .then(res => {this.state.svrResponse = res});\n        apiTok = this.state.svrResponse;\n        // .then(res => this.setState({ svrResponse: res }));\n  }\n  constructor(props){\n    super(props)\n    this.state = {\n      tracks: [],\n      search: '',\n      artist: null,\n      searchType: 'track',\n      sortType: 'Sort Alphabetically',\n      cardlings: null\n    };\n    this.callAPI();\n  }\n\n\n  changeType= ({ target: { value } }) => {\n    this.setState({ searchType: value });\n    this.setState({ sortType: 'Sort Alphabetically'})\n  }\n\n    changeSortType = (e) => {\n        this.setState({sortType: e.target.value})\n    };\n\n    sortCards(value, items){\n      console.log('items', items)\n      console.log('value', value)\n    if(value === 'Sort by Release Date'){\n       items.sort((a,b) => a.album.release_date - b.album.release_date);\n    }\n    else if(value === 'Sort Alphabetically'){\n\n         items.sort((a,b) => a.name.localeCompare(b.name))\n    }\n    else if(value === 'Sort by Popularity'){\n         items.sort((a,b) => a.popularity - b.popularity);\n    }\n    else if(value === 'Sort by Song Length(Short to Long)')\n         items.sort((a,b) => a.duration_ms - b.duration_ms);\n      };\n\n    handleClick = (event) => {\n      event.preventDefault()\n      this.callAPI()\n      console.log(this.state.svrResponse);\n      const baseUrl = 'https://api.spotify.com/v1/search?'\n      const auth_token = 'Bearer ' + this.state.svrResponse\n      let fetchUrl;\n    let cards;\n    let sortType = this.state.sortType\n    let searching = this.state.searchType;\n    if(this.state.search){\n      fetchUrl= baseUrl + \"query=\" + this.state.search + '&type=' + this.state.searchType + '&offset=0&limit=24'\n      fetch(fetchUrl, {\n        method: \"GET\",\n        headers: {\n          'Content-type': 'application/json',\n          'Authorization': auth_token\n        },\n      })\n      .then(resp => resp.json())\n      .then( function(data){\n        console.log(data);\n        console.log(sortType)\n        switch(searching){\n          case 'album':\n            const j = data.albums.items\n            if(sortType === 'Sort by Release Date'){\n\n              j.sort((a,b) => new Date(b.release_date).getTime() - new Date(a.release_date).getTime());\n          }\n          else if(sortType === 'Sort Alphabetically'){\n\n              j.sort((a,b) => a.name.localeCompare(b.name))\n          }\n          else if(sortType === 'Sort by Tracks'){\n              j.sort((a,b) => b.total_tracks - a.total_tracks);\n          }\n          else if(sortType === 'Sort by Song Length(Short to Long)')\n              j.sort((a,b) => a.duration_ms - b.duration_ms);\n            cards = data.albums.items.map((val) => <AlbumCard  key={val.id}  data={val} img={val} />);\n            ReactDOM.render(cards,\n              document.getElementById('container')\n            )\n            break;\n          case 'artist':\n            const i = data.artists.items\n            console.log(sortType)\n            if(sortType === 'Sort by Followers'){\n              i.sort((a,b) =>b.followers.total - a.followers.total);\n          }\n          else if(sortType === 'Sort Alphabetically'){\n\n              i.sort((a,b) => a.name.localeCompare(b.name))\n          }\n          else if(sortType === 'Sort by Popularity'){\n              i.sort((a,b) => b.popularity - a.popularity);\n          }\n            cards = data.artists.items.map((val) => <ArtistCard  key={val.id}  data={val} img={val} />);\n            ReactDOM.render(cards,\n              document.getElementById('container')\n            )\n            break;\n          case 'track' :\n            let y = data.tracks.items\n            // let x = this.sortCards()\n              if(sortType === 'Sort by Release Date'){\n                  y.sort((a,b) => new Date(b.album.release_date).getTime() - new Date(a.album.release_date).getTime());\n              }\n              else if(sortType === 'Sort Alphabetically'){\n\n                  y.sort((a,b) => a.name.localeCompare(b.name))\n              }\n              else if(sortType === 'Sort by Popularity'){\n                  y.sort((a,b) => b.popularity - a.popularity);\n              }\n              else if(sortType === 'Sort by Song Length(Short to Long)')\n                  y.sort((a,b) => a.duration_ms - b.duration_ms);\n\n              cards = y.map((val) => val.preview_url ? (<TrackCard key={val.id} data={val} img={val.album}/>) : null);\n\n              ReactDOM.render(cards,\n                document.getElementById('container')\n            )\n            break;\n          case \"album,artist,track\":\n            break;\n        }\n      })\n    }\n     }\n\n\n  render() {\n    const options = lookup[this.state.searchType];\n    return (\n      <div className=\"App\">\n        <form>\n          <input onChange={event => {this.setState({search: event.target.value})}} value={this.state.search} type=\"text\" placeholder=\"Search...\" name=\"search\"/>\n          <button type=\"submit\" onClick={this.handleClick} > <i className=\"fa fa-search\"></i>Search</button>\n          </form>\n          <label>Choose a Genre:</label>\n\n          <select defaultValue={this.state.searchType} onChange={this.changeType}>\n            <option value=\"album\">Album</option>\n            <option value=\"artist\">Artist</option>\n            <option value=\"track\">Track</option>\n            <option value=\"album,artist,track\">All</option>\n          </select>\n          <select id='tracks' defaultValue={this.state.sortType} onChange={this.changeSortType} >\n          {options.map(o => <option key={o.id} value={o.text}>{o.text}</option>)}\n          </select>\n      <TracksContainer tracks={this.state}/>\n         {/* {this.state.tracks.map(track => <TracksContainer  key={track.id}/>)} */}\n      </div>\n    );\n  }\n}\n\nexport default App;\nexport {apiTok};\n"]},"metadata":{},"sourceType":"module"}